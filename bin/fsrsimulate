#!/usr/bin/env python3
# -*- coding:utf-8 -*-

import sys
from fsrtools.simulate_tools import ExperimentManager

def main():
    import argparse
    parser = argparse.ArgumentParser(usage='Simulate Management Program',description='You can select each simulation with json file.',add_help=True)

    parser.add_argument('-j','--json',action='store',default=None,type=str,help='input parameter json file')
    parser.add_argument('-t','--test',action='store_true',help='test mode option')
    parser.add_argument('--cout',action='store_true',help='out calculation')
    parser.add_argument('-lf','--log_file',action='store', default='log.dat',type=str,help='log file name : default "log.dat" or "log_test.dat" in test mode')
    if('setup.py' in sys.argv):
        print('setup test : fsrsimulate : ok')
    else:
        args = vars(parser.parse_args())
        expmanager = ExperimentManager(parameter_file=args['json'],log_file=args['log_file'],cout=args['cout'],test_mode=args['test'])
        expmanager.operate_experiments()


if __name__ == '__main__':
    main()

